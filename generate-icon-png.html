<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>アイコンPNG生成</title>
</head>
<body>
  <h1>アイコンPNG生成</h1>
  <p>下のボタンをクリックして512x512のPNGアイコンをダウンロードし、<code>icons/icon-512.png</code> として保存してください。</p>
  <button id="download">PNGをダウンロード</button>
  <canvas id="canvas" width="512" height="512" style="display:block;margin:20px 0;border:1px solid #ccc;"></canvas>
  <script>
    const svg = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="512" height="512">
  <defs>
    <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1625"/>
      <stop offset="100%" style="stop-color:#2d2438"/>
    </linearGradient>
    <linearGradient id="orange" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ff6b35"/>
      <stop offset="100%" style="stop-color:#ff8c5a"/>
    </linearGradient>
  </defs>
  <rect width="512" height="512" rx="110" fill="url(#bg)"/>
  <circle cx="256" cy="256" r="195" fill="none" stroke="url(#orange)" stroke-width="18"/>
  <path d="M256 95 C180 95 130 165 130 245 C130 295 160 335 200 360 L200 400 C200 425 225 445 256 445 C287 445 312 425 312 400 L312 360 C352 335 382 295 382 245 C382 165 332 95 256 95 Z" fill="url(#orange)"/>
  <path d="M195 225 Q215 240 235 225" fill="none" stroke="#1a1625" stroke-width="14" stroke-linecap="round"/>
  <path d="M277 225 Q297 240 317 225" fill="none" stroke="#1a1625" stroke-width="14" stroke-linecap="round"/>
  <path d="M185 305 Q256 375 327 305" fill="none" stroke="#1a1625" stroke-width="16" stroke-linecap="round"/>
  <g transform="rotate(-25 270 130)">
    <rect x="248" y="75" width="28" height="95" rx="6" fill="url(#orange)"/>
    <rect x="225" y="155" width="74" height="28" rx="6" fill="url(#orange)"/>
  </g>
  <path d="M380 120 L395 135 L410 120 L395 105 Z" fill="#ff8c5a" opacity="0.9"/>
</svg>`;
    const img = new Image();
    img.onload = () => {
      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');
      ctx.drawImage(img, 0, 0);
    };
    img.src = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svg)));
    document.getElementById('download').onclick = () => {
      const canvas = document.getElementById('canvas');
      const a = document.createElement('a');
      a.download = 'icon-512.png';
      a.href = canvas.toDataURL('image/png');
      a.click();
    };
  </script>
</body>
</html>
